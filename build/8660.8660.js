"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[8660],{38660:(e,t,n)=>{n.r(t),n.d(t,{Web3Auth:()=>V,defaultEvmDappModalConfig:()=>I,defaultEvmWalletModalConfig:()=>k,defaultOtherModalConfig:()=>M,defaultSolanaDappModalConfig:()=>R,defaultSolanaWalletModalConfig:()=>_});var r=n(56666),a=n(4268),o=n(926),i=n(81079),s=n(59147);function c(e){return function(e){if(Array.isArray(e))return(0,o.Z)(e)}(e)||(0,i.Z)(e)||(0,s.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=n(34795),u=n(9249),p=n(87371),d=n(80753),h=n(93069),A=n(45754),f=n(11987),E=n(95058),g=n(82841),O=n.n(g),w=n(17391);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=T(T({},a.CHAIN_NAMESPACES),{},{MULTICHAIN:"multichain"});function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C,P,y="Web3Auth-cachedAdapter",S=function(e){(0,A.Z)(v,e);var t,n,o,i,s,c,h,g,w=(h=v,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,E.Z)(h);if(g){var n=(0,E.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,f.Z)(this,e)});function v(e){var t,n,o,i,s;if((0,u.Z)(this,v),s=w.call(this),(0,r.Z)((0,d.Z)(s),"coreOptions",void 0),(0,r.Z)((0,d.Z)(s),"connectedAdapterName",null),(0,r.Z)((0,d.Z)(s),"status",a.ADAPTER_STATUS.NOT_READY),(0,r.Z)((0,d.Z)(s),"cachedAdapter",null),(0,r.Z)((0,d.Z)(s),"walletAdapters",{}),(0,r.Z)((0,d.Z)(s),"plugins",{}),(0,r.Z)((0,d.Z)(s),"storage","localStorage"),!e.clientId)throw a.WalletInitializationError.invalidParams("Please provide a valid clientId in constructor");if(e.enableLogging?a.log.enableAll():a.log.disableAll(),null===(t=e.chainConfig)||void 0===t||!t.chainNamespace||!Object.values(a.CHAIN_NAMESPACES).includes(null===(n=e.chainConfig)||void 0===n?void 0:n.chainNamespace))throw a.WalletInitializationError.invalidParams("Please provide a valid chainNamespace in chainConfig");return"session"===e.storageKey&&(s.storage="sessionStorage"),s.cachedAdapter=(0,a.storageAvailable)(s.storage)?window[s.storage].getItem(y):null,s.coreOptions=N(N({},e),{},{chainConfig:N(N({},(0,a.getChainConfig)(null===(o=e.chainConfig)||void 0===o?void 0:o.chainNamespace,null===(i=e.chainConfig)||void 0===i?void 0:i.chainId)||{}),e.chainConfig)}),s.subscribeToAdapterEvents=s.subscribeToAdapterEvents.bind((0,d.Z)(s)),s}return(0,p.Z)(v,[{key:"provider",get:function(){return this.status===a.ADAPTER_STATUS.CONNECTED&&this.connectedAdapterName?this.walletAdapters[this.connectedAdapterName].provider:null},set:function(e){throw new Error("Not implemented")}},{key:"init",value:(c=(0,l.Z)(O().mark((function e(){var t,n=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.keys(this.walletAdapters).map((function(e){if(n.subscribeToAdapterEvents(n.walletAdapters[e]),!n.walletAdapters[e].chainConfigProxy){var t=n.coreOptions.chainConfig;if(!t.chainNamespace)throw a.WalletInitializationError.invalidParams("Please provide chainNamespace in chainConfig");var r=N(N({},(0,a.getChainConfig)(t.chainNamespace,t.chainId)),t);n.walletAdapters[e].setChainConfig(r)}return n.walletAdapters[e].setAdapterSettings({sessionTime:n.coreOptions.sessionTime,clientId:n.coreOptions.clientId}),n.walletAdapters[e].init({autoConnect:n.cachedAdapter===e}).catch((function(e){return a.log.error(e)}))})),this.status=a.ADAPTER_STATUS.READY,e.next=4,Promise.all(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"configureAdapter",value:function(e){this.checkInitRequirements();var t=this.coreOptions.chainConfig;if(!t.chainNamespace)throw a.WalletInitializationError.invalidParams("Please provide chainNamespace in chainConfig");if(this.walletAdapters[e.name])throw a.WalletInitializationError.duplicateAdapterError("Wallet adapter for ".concat(e.name," already exists"));if(e.adapterNamespace!==a.ADAPTER_NAMESPACES.MULTICHAIN&&e.adapterNamespace!==t.chainNamespace)throw a.WalletInitializationError.incompatibleChainNameSpace("This wallet adapter belongs to ".concat(e.adapterNamespace," which is incompatible with currently used namespace: ").concat(t.chainNamespace));return e.adapterNamespace===a.ADAPTER_NAMESPACES.MULTICHAIN&&e.currentChainNamespace&&t.chainNamespace!==e.currentChainNamespace&&e.setChainConfig(t),this.walletAdapters[e.name]=e,this}},{key:"clearCache",value:function(){(0,a.storageAvailable)(this.storage)&&(window[this.storage].removeItem(y),this.cachedAdapter=null)}},{key:"connectTo",value:(s=(0,l.Z)(O().mark((function e(t,n){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.walletAdapters[t]){e.next=2;break}throw a.WalletInitializationError.notFound("Please add wallet adapter for ".concat(t," wallet, before connecting"));case 2:return e.next=4,this.walletAdapters[t].connect(n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"logout",value:(i=(0,l.Z)(O().mark((function e(){var t,n=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{cleanup:!1},this.status===a.ADAPTER_STATUS.CONNECTED&&this.connectedAdapterName){e.next=3;break}throw a.WalletLoginError.notConnectedError("No wallet is connected");case 3:return e.next=5,this.walletAdapters[this.connectedAdapterName].disconnect(t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getUserInfo",value:(o=(0,l.Z)(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.log.debug("Getting user info",this.status,this.connectedAdapterName),this.status===a.ADAPTER_STATUS.CONNECTED&&this.connectedAdapterName){e.next=3;break}throw a.WalletLoginError.notConnectedError("No wallet is connected");case 3:return e.abrupt("return",this.walletAdapters[this.connectedAdapterName].getUserInfo());case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"authenticateUser",value:(n=(0,l.Z)(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===a.ADAPTER_STATUS.CONNECTED&&this.connectedAdapterName){e.next=2;break}throw a.WalletLoginError.notConnectedError("No wallet is connected");case 2:return e.abrupt("return",this.walletAdapters[this.connectedAdapterName].authenticateUser());case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"addPlugin",value:(t=(0,l.Z)(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.plugins[t.name]){e.next=2;break}throw new Error("Plugin ".concat(t.name," already exist"));case 2:if(t.pluginNamespace===b.MULTICHAIN||t.pluginNamespace===this.coreOptions.chainConfig.chainNamespace){e.next=4;break}throw new Error("This plugin belongs to ".concat(t.pluginNamespace," namespace which is incompatible with currently used namespace: ").concat(this.coreOptions.chainConfig.chainNamespace));case 4:return this.plugins[t.name]=t,e.next=7,t.initWithWeb3Auth(this);case 7:return e.abrupt("return",this);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"subscribeToAdapterEvents",value:function(e){var t=this;e.on(a.ADAPTER_EVENTS.CONNECTED,function(){var e=(0,l.Z)(O().mark((function e(n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.status=a.ADAPTER_STATUS.CONNECTED,t.connectedAdapterName=n.adapter,t.cacheWallet(n.adapter),a.log.debug("connected",t.status,t.connectedAdapterName),e.next=6,Promise.all(Object.values(t.plugins).map((function(e){return e.connect().catch((function(e){5211!==e.code&&a.log.error(e)}))})));case 6:t.emit(a.ADAPTER_EVENTS.CONNECTED,N({},n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on(a.ADAPTER_EVENTS.DISCONNECTED,function(){var e=(0,l.Z)(O().mark((function e(n){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.status=a.ADAPTER_STATUS.READY,(0,a.storageAvailable)(t.storage)&&(r=window[t.storage].getItem(y),t.connectedAdapterName===r&&t.clearCache()),a.log.debug("disconnected",t.status,t.connectedAdapterName),e.next=5,Promise.all(Object.values(t.plugins).map((function(e){return e.disconnect().catch((function(e){5211!==e.code&&a.log.error(e)}))})));case 5:t.connectedAdapterName=null,t.emit(a.ADAPTER_EVENTS.DISCONNECTED,n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on(a.ADAPTER_EVENTS.CONNECTING,(function(e){t.status=a.ADAPTER_STATUS.CONNECTING,t.emit(a.ADAPTER_EVENTS.CONNECTING,e),a.log.debug("connecting",t.status,t.connectedAdapterName)})),e.on(a.ADAPTER_EVENTS.ERRORED,(function(e){t.status=a.ADAPTER_STATUS.ERRORED,t.clearCache(),t.emit(a.ADAPTER_EVENTS.ERRORED,e),a.log.debug("errored",t.status,t.connectedAdapterName)})),e.on(a.ADAPTER_EVENTS.ADAPTER_DATA_UPDATED,(function(e){a.log.debug("adapter data updated",e),t.emit(a.ADAPTER_EVENTS.ADAPTER_DATA_UPDATED,e)}))}},{key:"checkInitRequirements",value:function(){if(this.status===a.ADAPTER_STATUS.CONNECTING)throw a.WalletInitializationError.notReady("Already pending connection");if(this.status===a.ADAPTER_STATUS.CONNECTED)throw a.WalletInitializationError.notReady("Already connected");if(this.status===a.ADAPTER_STATUS.READY)throw a.WalletInitializationError.notReady("Adapter is already initialized")}},{key:"cacheWallet",value:function(e){(0,a.storageAvailable)(this.storage)&&(window[this.storage].setItem(y,e),this.cachedAdapter=e)}}]),v}(w.Ue),D=n(60974),R={chainNamespace:a.CHAIN_NAMESPACES.SOLANA,adapters:(C={},(0,r.Z)(C,a.SOLANA_ADAPTERS.TORUS_SOLANA,{label:"Torus Wallet",showOnModal:!0,showOnMobile:!0,showOnDesktop:!0}),(0,r.Z)(C,a.SOLANA_ADAPTERS.OPENLOGIN,{label:"OpenLogin",showOnModal:!0,showOnMobile:!0,showOnDesktop:!0}),(0,r.Z)(C,a.SOLANA_ADAPTERS.PHANTOM,{label:"Phantom",showOnModal:!0,showOnMobile:!1,showOnDesktop:!0}),C)},I={chainNamespace:a.CHAIN_NAMESPACES.EIP155,adapters:(P={},(0,r.Z)(P,a.EVM_ADAPTERS.TORUS_EVM,{label:"Torus Wallet",showOnModal:!0,showOnMobile:!0,showOnDesktop:!0}),(0,r.Z)(P,a.EVM_ADAPTERS.METAMASK,{label:"MetaMask",showOnModal:!0,showOnMobile:!1,showOnDesktop:!0}),(0,r.Z)(P,a.EVM_ADAPTERS.OPENLOGIN,{label:"OpenLogin",showOnModal:!0,showOnMobile:!0,showOnDesktop:!0}),(0,r.Z)(P,a.EVM_ADAPTERS.WALLET_CONNECT_V1,{label:"Wallet Connect",showOnModal:!0,showOnMobile:!0,showOnDesktop:!0}),P)},_={chainNamespace:a.CHAIN_NAMESPACES.SOLANA,adapters:(0,r.Z)({},a.SOLANA_ADAPTERS.OPENLOGIN,{label:"OpenLogin",showOnModal:!0,showOnMobile:!0,showOnDesktop:!0})},k={chainNamespace:a.CHAIN_NAMESPACES.EIP155,adapters:(0,r.Z)({},a.EVM_ADAPTERS.OPENLOGIN,{label:"OpenLogin",showOnModal:!0,showOnMobile:!0,showOnDesktop:!0})},M={chainNamespace:a.CHAIN_NAMESPACES.OTHER,adapters:(0,r.Z)({},a.EVM_ADAPTERS.OPENLOGIN,{label:"OpenLogin",showOnModal:!0,showOnMobile:!0,showOnDesktop:!0})};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(){var e=(0,l.Z)(O().mark((function e(t){var r,o,i,s,c,l,u,p,d,h,A,f,E,g,w,v,T,b,m,N,C,P,y,S;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,o=t.customChainConfig,i=t.clientId,Object.values(a.CHAIN_NAMESPACES).includes(o.chainNamespace)){e.next=3;break}throw new Error("Invalid chainNamespace: ".concat(o.chainNamespace));case 3:if(s=L(L({},(0,a.getChainConfig)(o.chainNamespace,null==o?void 0:o.chainId)),o||{}),r!==a.WALLET_ADAPTERS.TORUS_EVM){e.next=13;break}return e.next=7,Promise.all([n.e(3335),n.e(3433),n.e(3589),n.e(5)]).then(n.bind(n,78228));case 7:return c=e.sent,l=c.TorusWalletAdapter,u=new l({chainConfig:s,clientId:i}),e.abrupt("return",u);case 13:if(r!==a.WALLET_ADAPTERS.TORUS_SOLANA){e.next=22;break}return e.next=16,Promise.all([n.e(3335),n.e(8193),n.e(5679),n.e(6635),n.e(7257),n.e(5429),n.e(2234),n.e(5573),n.e(5595),n.e(568)]).then(n.bind(n,75595));case 16:return p=e.sent,d=p.SolanaWalletAdapter,h=new d({chainConfig:s,clientId:i}),e.abrupt("return",h);case 22:if(r!==a.WALLET_ADAPTERS.METAMASK){e.next=31;break}return e.next=25,n.e(8987).then(n.bind(n,58987));case 25:return A=e.sent,f=A.MetamaskAdapter,E=new f({chainConfig:s,clientId:i}),e.abrupt("return",E);case 31:if(r!==a.WALLET_ADAPTERS.PHANTOM){e.next=40;break}return e.next=34,Promise.all([n.e(3335),n.e(8193),n.e(5679),n.e(6635),n.e(7257),n.e(5429),n.e(2234),n.e(5573),n.e(3009)]).then(n.bind(n,97716));case 34:return g=e.sent,w=g.PhantomAdapter,v=new w({chainConfig:s,clientId:i}),e.abrupt("return",v);case 40:if(r!==a.WALLET_ADAPTERS.WALLET_CONNECT_V1){e.next=49;break}return e.next=43,Promise.all([n.e(3335),n.e(8193),n.e(5679),n.e(6635),n.e(7257),n.e(883),n.e(9159),n.e(2492),n.e(6268),n.e(6151)]).then(n.bind(n,76268));case 43:return T=e.sent,b=T.WalletConnectV1Adapter,m=new b({chainConfig:s,clientId:i}),e.abrupt("return",m);case 49:if(r!==a.WALLET_ADAPTERS.OPENLOGIN){e.next=58;break}return e.next=52,Promise.all([n.e(3335),n.e(8193),n.e(5679),n.e(6635),n.e(7257),n.e(7704)]).then(n.bind(n,93038));case 52:return N=e.sent,C=N.OpenloginAdapter,P=N.getOpenloginDefaultOptions,y=P(o.chainNamespace,null==o?void 0:o.chainId),S=new C(L(L({},y),{},{chainConfig:L(L({},y.chainConfig||{}),s),adapterSettings:L(L({},y.adapterSettings),{},{clientId:i})})),e.abrupt("return",S);case 58:throw new Error("Invalid wallet adapter name");case 59:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j={en:"english",de:"german",ja:"japanese",ko:"korean",zh:"mandarin",es:"spanish"};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(e){(0,A.Z)(w,e);var t,n,o,i,s,g=(i=w,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,E.Z)(i);if(s){var n=(0,E.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,f.Z)(this,e)});function w(e){var t,n,o,i;(0,u.Z)(this,w),i=g.call(this,e),(0,r.Z)((0,d.Z)(i),"loginModal",void 0),(0,r.Z)((0,d.Z)(i),"options",void 0),(0,r.Z)((0,d.Z)(i),"modalConfig",I),i.options=U({},e);var s=i.options.chainConfig;if(s.chainNamespace===a.CHAIN_NAMESPACES.SOLANA)"WALLET"===e.authMode?i.modalConfig=_:i.modalConfig=R;else if(s.chainNamespace===a.CHAIN_NAMESPACES.EIP155)"WALLET"===e.authMode?i.modalConfig=k:i.modalConfig=I;else{if(s.chainNamespace!==a.CHAIN_NAMESPACES.OTHER)throw new Error("Invalid chainNamespace provided: ".concat(s.chainNamespace));i.modalConfig=M}var c=function(e){var t=e;return t||(t=("undefined"!=typeof window&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(j,t)?t:"en"}(null===(t=i.options.uiConfig)||void 0===t?void 0:t.defaultLanguage);return i.loginModal=new D._A({theme:null===(n=i.options.uiConfig)||void 0===n?void 0:n.theme,appLogo:(null===(o=i.options.uiConfig)||void 0===o?void 0:o.appLogo)||"",version:"",adapterListener:(0,d.Z)(i),displayErrorsOnModal:i.options.displayErrorsOnModal,defaultLanguage:c}),i.subscribeToLoginModalEvents(),i}return(0,p.Z)(w,[{key:"initModal",value:(o=(0,l.Z)(O().mark((function e(t){var n,r,o,i,s,u,p,d=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,h.Z)((0,E.Z)(w.prototype),"checkInitRequirements",this).call(this),e.next=3,this.loginModal.initModal();case 3:return n=this.options.chainConfig,r=c(new Set([].concat(c(Object.keys(this.modalConfig.adapters||{})),c(Object.keys(this.walletAdapters))))),o=r.map(function(){var e=(0,l.Z)(O().mark((function e(r){var o,i,s,c,l,u,p,h,A,f;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=(null===(o=d.modalConfig.adapters)||void 0===o?void 0:o[r])||{label:r,showOnModal:!0,showOnMobile:!0,showOnDesktop:!0},null!=t&&null!==(i=t.modalConfig)&&void 0!==i&&i[r]&&(l=U(U({},l),t.modalConfig[r])),d.modalConfig.adapters[r]=l,u=d.walletAdapters[r],a.log.debug("adapter config",r,null===(s=d.modalConfig.adapters)||void 0===s?void 0:s[r].showOnModal,u),u||null===(c=d.modalConfig.adapters)||void 0===c||!c[r].showOnModal){e.next=13;break}return e.next=8,Z({name:r,customChainConfig:d.options.chainConfig,clientId:d.options.clientId});case 8:return p=e.sent,d.walletAdapters[r]=p,e.abrupt("return",r);case 13:if((null==u?void 0:u.type)!==a.ADAPTER_CATEGORY.IN_APP&&(null==u?void 0:u.type)!==a.ADAPTER_CATEGORY.EXTERNAL&&r!==d.cachedAdapter){e.next=19;break}if(null!==(h=d.modalConfig.adapters)&&void 0!==h&&h[r].showOnModal){e.next=16;break}return e.abrupt("return");case 16:return d.walletAdapters[r].setAdapterSettings({clientId:d.options.clientId,sessionTime:d.options.sessionTime}),u.chainConfigProxy||(f=U(U({},(0,a.getChainConfig)(n.chainNamespace,null===(A=d.coreOptions.chainConfig)||void 0===A?void 0:A.chainId)),d.coreOptions.chainConfig),d.walletAdapters[r].setChainConfig(f)),e.abrupt("return",r);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=8,Promise.all(o);case 8:return i=e.sent,s=Object.values(this.walletAdapters).some((function(e){var t;if(e.type!==a.ADAPTER_CATEGORY.IN_APP)return!1;if(!0!==d.modalConfig.adapters[e.name].showOnModal)return!1;if(!d.modalConfig.adapters[e.name].loginMethods)return!0;var n=(0,D.rG)(e.name,d.walletAdapters[e.name],null===(t=d.modalConfig.adapters[e.name])||void 0===t?void 0:t.loginMethods);return!!Object.values(n).some((function(e){return e.showOnModal}))})),a.log.debug(s,this.walletAdapters,"hasInAppWallets"),u=i.map(function(){var e=(0,l.Z)(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,n=d.walletAdapters[t],d.cachedAdapter===t||n.type!==a.ADAPTER_CATEGORY.EXTERNAL){e.next=6;break}return e.abrupt("return");case 6:if(d.subscribeToAdapterEvents(n),n.status!==a.ADAPTER_STATUS.NOT_READY){e.next=10;break}return e.next=10,n.init({autoConnect:d.cachedAdapter===t});case 10:n.type===a.ADAPTER_CATEGORY.IN_APP&&d.initializeInAppWallet(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),a.log.error(e.t0,"error while initializing adapter");case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()),this.status=a.ADAPTER_STATUS.READY,e.next=15,Promise.all(u);case 15:if((p=r.some((function(e){var t,n;return(null===(t=d.walletAdapters[e])||void 0===t?void 0:t.type)===a.ADAPTER_CATEGORY.EXTERNAL&&(null===(n=d.modalConfig.adapters)||void 0===n?void 0:n[e].showOnModal)})))&&this.loginModal.initExternalWalletContainer(),s||!p){e.next=20;break}return e.next=20,this.initExternalWalletAdapters(!1,{showExternalWalletsOnly:!0});case 20:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"connect",value:(n=(0,l.Z)(O().mark((function e(){var t=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.provider){e.next=2;break}return e.abrupt("return",this.provider);case 2:return this.loginModal.open(),e.abrupt("return",new Promise((function(e,n){t.once(a.ADAPTER_EVENTS.CONNECTED,(function(){return e(t.provider)})),t.once(a.ADAPTER_EVENTS.ERRORED,(function(e){return n(e)}))})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"initExternalWalletAdapters",value:(t=(0,l.Z)(O().mark((function e(t,n){var r,o=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:r={},Object.keys(this.walletAdapters).forEach(function(){var e=(0,l.Z)(O().mark((function e(t){var i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==(i=o.walletAdapters[t])?void 0:i.type)!==a.ADAPTER_CATEGORY.EXTERNAL){e.next=9;break}if(a.log.debug("init external wallet",o.cachedAdapter,t),o.subscribeToAdapterEvents(i),o.cachedAdapter!==t){e.next=6;break}return e.abrupt("return");case 6:if(i.status!==a.ADAPTER_STATUS.NOT_READY){e.next=9;break}return e.next=9,i.init({autoConnect:o.cachedAdapter===t}).then((function(){r[t]=o.modalConfig.adapters[t],o.loginModal.addWalletLogins(r,{showExternalWalletsOnly:!(null==n||!n.showExternalWalletsOnly)})})).catch((function(e){return a.log.error(e,"error while initializing adapter")}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"initializeInAppWallet",value:function(e){var t,n;a.log.info("adapterInitResults",e),this.walletAdapters[e].type===a.ADAPTER_CATEGORY.IN_APP&&this.loginModal.addSocialLogins(e,(0,D.rG)(e,this.walletAdapters[e],null===(t=this.modalConfig.adapters[e])||void 0===t?void 0:t.loginMethods),(null===(n=this.options.uiConfig)||void 0===n?void 0:n.loginMethodsOrder)||D.nS)}},{key:"subscribeToLoginModalEvents",value:function(){var e=this;this.loginModal.on(D.J9.LOGIN,function(){var t=(0,l.Z)(O().mark((function t(n){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.connectTo(n.adapter,n.loginParams);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),a.log.error("Error while connecting to adapter: ".concat(n.adapter),t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),this.loginModal.on(D.J9.INIT_EXTERNAL_WALLETS,function(){var t=(0,l.Z)(O().mark((function t(n){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initExternalWalletAdapters(n.externalWalletsInitialized);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.loginModal.on(D.J9.DISCONNECT,(0,l.Z)(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.logout();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),a.log.error("Error while disconnecting",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))),this.loginModal.on(D.J9.MODAL_VISIBILITY,function(){var t=(0,l.Z)(O().mark((function t(n){var r,o;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.log.debug("is login modal visible",n),e.emit(D.J9.MODAL_VISIBILITY,n),o=null===(r=e.walletAdapters[a.WALLET_ADAPTERS.WALLET_CONNECT_V1])||void 0===r?void 0:r.status,n&&o===a.ADAPTER_STATUS.READY)try{e.walletAdapters[a.WALLET_ADAPTERS.WALLET_CONNECT_V1].connect()}catch(e){a.log.error("Error while disconnecting to wallet connect in core",e)}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),w}(S)},93069:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(95058);function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=a(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}}}]);